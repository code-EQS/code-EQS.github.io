<!DOCTYPE html>
<html>
    <head>
        <link href="proj_design.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <p><strong>Maze Arcade Machine project</strong></p>
        <p>My friend Nanik suggested having a project for fun during March Break. He found a few LED matrices. Then we came up with this idea. Nanik and I finished most part of it during March Break.<br>We'll find some time to decorate it and make it easily portable for Raspberry Pi.</p>
        <video height="480" width="360" controls muted>
            <source src="../src/vid/20200323_211057.mp4" type="video/mp4">
        </video>

        <p><strong>A brief intro:</strong>
            <br>This is an "arcade" machine that generates a random maze for players to solve. It runs on Raspberry Pi, and this is my first time working on a pi rather than Arduino. We were using Python to write the program, so I had to "translate" some SDK from C++ to Python.
            <br><br>How to play:
            <br>A player(green light) has to move from one corner to the furthest corner by pressing buttons.
            <br>The player will be given a score based on how many seconds are used to finish the maze.
        </p>
        <small> light --player
            <br>Red Light   --wall
            <br>Orange Light--destination
            <br>When pressing one button, the green light moves to the corresponding direction.
            <br>When pressing four buttons at the same time, a hint will be given to the player.
        </small>

        <p><strong>Challenges:</strong>
            <br>There are a few challenges we've encounter when working on this project.
            <ol>
                <li>The use of 74HC164 shift register.</li>
                <li>The use of recycled LED matrices that were previously privately customized.</li>
                <li>Prevention of floating signal inputs to CLOCK.</li>
                <li>Random maze map generation on a dot grid.</li>
            </ol>
            Solutions:
            <ul>
                <li>My friend Nanik figured out how 74HC164 and LED matrices work mostly by himself. He soldered the registers onto the board, and he taught me how 74HC164 and the LED matrix work on a hardware level.</li>
                <li>The registers were picking up random floating signals during the period one shiftOut(), the function from Arduino library, returns and the other one is about to be called. To prevent floating signals, I overrode the shiftOut() function and improved the time complexity by merging all data into a continuous 2-byte large input since we were using 2 shift registers.</li>
                <li>I made a compromise to trade a little time for a better look map by using Kruskal's algorithm.
                    <br>The graph would look like this without making the compromise:
                    <br>. x . .
                    <br>. . x .
                    <br>. x . .
                    <br>. . . x
                    <br>It looked better after I slightly changed the program. However, there is a probability that the maze may not be solvable. (I added a feature to Kruskal's algorithm. I considered vertices as walls since this maze is on a dot grid. As a result, more than 2 groups might be unioned when breaking a wall.) A solvable maze generated by the modified algorithm looks like this:
                    <br>. x . .
                    <br>. xx .
                    <br>. x . .
                    <br>. . . x
                    <br>Alternatively, the program can build an imagined list of walls first, then display the walls using LEDs. This should give a good solution everytime running the program.
                    <br>But still, it is not a big deal to run the algorithm for a few times since the size of the matrix is pretty small.
                </li>
            </ul>
        </p>
    </body>
</html>