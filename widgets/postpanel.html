<!DOCTYPE html>
<html>
    <head>
        <link href="../widgets/postpanel.css" rel="stylesheet" type="text/css">
        <title>Post Widget</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            function updatePost(){
                //Put codes in the function
                $.getJSON("../src/posts/posts.json",function(data){
                    var ulobj=document.getElementById("postlist");
                    $.each(data.postarr,function(index,arr){
                        // console.log(arr.content);

                        //Display content from posts.json
                        var divobj=document.createElement('div');
                        divobj.setAttribute('class','postdiv');

                        var text=document.createElement('p');
                        text.innerHTML=arr.content;
                        divobj.appendChild(text);

                        var vdate_time=document.createElement('p');
                        vdate_time.innerHTML=arr.date;
                        vdate_time.style.textAlign="right";
                        

                        if(arr.time){
                            vdate_time.innerHTML+="<br>"+arr.time;       
                        }
                        divobj.appendChild(vdate_time);

                        var liobj=document.createElement('li');
                        liobj.appendChild(divobj);
                        
                        ulobj.appendChild(liobj); 
                    });
                });
            }
        </script>
    </head>
    <body onload="updatePost()">
        <ul id="postlist">
            <!-- <li><div class="postdiv"><p>123</p></div></li> -->
        </ul>
    </body>
</html>